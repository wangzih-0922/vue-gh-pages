{"version":3,"file":"js/455.35cd6a92.js","mappings":"2MACOA,MAAM,a,GACTC,EAAAA,EAAAA,GAAsC,MAAlCD,MAAM,oBAAmB,QAAI,G,GAE5BA,MAAM,oC,GAEEA,MAAM,c,aAEFA,MAAM,a,GAELA,MAAM,a,oCACuF,U,GACxFA,MAAM,oC,uGAX/BE,EAAAA,EAAAA,IAiBM,MAjBN,EAiBM,CAhBJC,GACAC,EAAAA,EAAAA,IAAqDC,EAAA,CAApCC,OAAQC,EAAAA,WAAS,oBAClCN,EAAAA,EAAAA,GAaQ,MAbR,EAaQ,gBAZJC,EAAAA,EAAAA,IAWMM,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAX0BF,EAAAA,cAARG,K,WAAxBR,EAAAA,EAAAA,IAWM,OAXDF,MAAM,MAAoCW,IAAKD,EAAKE,IAAzD,EACIX,EAAAA,EAAAA,GASM,MATN,EASM,EARFA,EAAAA,EAAAA,GAAyD,OAAnDY,IAAKH,EAAKI,SAAUd,MAAM,eAAee,IAAI,OAAnD,WACAd,EAAAA,EAAAA,GAMM,MANN,EAMM,EALHG,EAAAA,EAAAA,IAAuGY,EAAA,CAA1FhB,MAAM,0BAA2BiB,GAAE,YAAcP,EAAKE,MAAnE,C,kBAAyE,IAAgB,mBAAbF,EAAKQ,OAAK,M,KAAtF,cACAjB,EAAAA,EAAAA,GAA6C,IAA7C,GAA6CkB,EAAAA,EAAAA,IAAtBT,EAAKU,aAAW,IACvCnB,EAAAA,EAAAA,GAES,UAFDD,MAAM,kBAAmBqB,QAAK,GAAEC,EAAAA,QAAQZ,EAAKE,IAAMW,SAAUhB,EAAAA,gBAAkBG,EAAKE,IAA5F,aACEX,EAAAA,EAAAA,GAAyF,OAAzF,EAAyF,iBAAlCM,EAAAA,gBAAkBG,EAAKE,OADhF,cANX,UAiBR,OACEY,OACE,MAAO,CACLC,aAAc,GACdC,cAAe,GACfC,WAAW,IAGfC,QAAS,CACPC,cACEC,KAAKH,WAAY,EACjBG,KAAKC,MAAMC,IAAK,wEACbC,MAAMC,IACLJ,KAAKL,aAAeS,EAAIV,KAAKW,SAC7BL,KAAKH,WAAY,KAElBS,OAAOC,IACNC,QAAQC,IAAIF,OAGlBG,QAAS5B,EAAI6B,EAAM,GACjBX,KAAKJ,cAAgBd,EACrBkB,KAAKC,MAAMW,KAAM,+DAAkE,CACjFlB,KAAM,CACJmB,WAAY/B,EACZ6B,IAAAA,KAGDR,MAAMC,IACLI,QAAQC,IAAIL,GACZU,MAAMV,EAAIV,KAAKqB,SACff,KAAKJ,cAAgB,MAEtBU,OAAOC,IACNC,QAAQC,IAAIF,QAIpBS,UACEhB,KAAKD,gB,UCxDT,MAAMkB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://vue-w6-cli/./src/views/ProductsView.vue","webpack://vue-w6-cli/./src/views/ProductsView.vue?91db"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h2 class=\"text-center mt-3\">商品列表</h2>\n    <LoadingOverlay :active=\"isLoading\"></LoadingOverlay>\n    <div class=\"row row-cols-1 row-cols-lg-4 g-3\">\n        <div class=\"col\" v-for=\"item in productsData\" :key=\"item.id\">\n            <div class=\"card h-100\">\n                <img :src=\"item.imageUrl\" class=\"card-img-top\" alt=\"...\">\n                <div class=\"card-body\">\n                   <router-link class=\"h5 card-title link-dark\" :to=\"`/product/${item.id}`\">{{ item.title }}</router-link>\n                   <p class=\"card-text\">{{item.description}}</p>\n                   <button class=\"btn btn-primary\" @click=\"addCart(item.id)\" :disabled=\"isLoadingItem === item.id\">加入購物車\n                     <span class=\"spinner-border spinner-border-sm\" v-show=\"isLoadingItem === item.id\"></span>\n                   </button>\n                </div>\n            </div>\n        </div>\n      </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      productsData: [],\n      isLoadingItem: '',\n      isLoading: false\n    }\n  },\n  methods: {\n    getProducts () {\n      this.isLoading = true\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`)\n        .then((res) => {\n          this.productsData = res.data.products\n          this.isLoading = false\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n    },\n    addCart (id, qty = 1) {\n      this.isLoadingItem = id\n      this.$http.post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`, {\n        data: {\n          product_id: id,\n          qty\n        }\n      })\n        .then((res) => {\n          console.log(res)\n          alert(res.data.message)\n          this.isLoadingItem = ''\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n    }\n  },\n  mounted () {\n    this.getProducts()\n  }\n}\n</script>\n","import { render } from \"./ProductsView.vue?vue&type=template&id=42d1d2d8\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/oumurasaki/Developer/第六週主線/vue-w6-cli/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_2","_createVNode","_component_LoadingOverlay","active","$data","_Fragment","_renderList","item","key","id","src","imageUrl","alt","_component_router_link","to","title","_toDisplayString","description","onClick","$options","disabled","data","productsData","isLoadingItem","isLoading","methods","getProducts","this","$http","get","then","res","products","catch","error","console","log","addCart","qty","post","product_id","alert","message","mounted","__exports__","render"],"sourceRoot":""}