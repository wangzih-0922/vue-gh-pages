"use strict";(self["webpackChunkvue_w6_cli"]=self["webpackChunkvue_w6_cli"]||[]).push([[918],{8918:function(a,s,e){e.r(s),e.d(s,{default:function(){return x}});var t=e(6252),n=e(9963);const c={class:"navbar navbar-expand-lg navbar-dark bg-dark"},l={class:"container-fluid"},i=(0,t.Uk)("後台"),o=(0,t._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,t._)("span",{class:"navbar-toggler-icon"})],-1),r={class:"collapse navbar-collapse",id:"navbarNav"},u={class:"navbar-nav"},v={class:"nav-item"},d=(0,t.Uk)("回到前台"),h={class:"nav-item"},k=(0,t.Uk)("產品列表"),p={class:"nav-item"},g=(0,t.Uk)("訂單"),_={class:"nav-item"},b={class:"container"};function m(a,s,e,m,f,w){const $=(0,t.up)("router-link"),x=(0,t.up)("router-view");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("nav",c,[(0,t._)("div",l,[(0,t.Wm)($,{to:"/admin",class:"navbar-brand"},{default:(0,t.w5)((()=>[i])),_:1}),o,(0,t._)("div",r,[(0,t._)("ul",u,[(0,t._)("li",v,[(0,t.Wm)($,{to:"/",class:"nav-link"},{default:(0,t.w5)((()=>[d])),_:1})]),(0,t._)("li",h,[(0,t.Wm)($,{to:"/admin/products",class:"nav-link"},{default:(0,t.w5)((()=>[k])),_:1})]),(0,t._)("li",p,[(0,t.Wm)($,{to:"/admin/orders",class:"nav-link"},{default:(0,t.w5)((()=>[g])),_:1})]),(0,t._)("li",_,[(0,t._)("a",{href:"#",onClick:s[0]||(s[0]=(0,n.iM)(((...a)=>w.signOut&&w.signOut(...a)),["prevent"])),class:"nav-link"},"登出")])])])])]),(0,t._)("div",b,[f.checkSuccess?((0,t.wg)(),(0,t.j4)(x,{key:0})):(0,t.kq)("",!0)])],64)}var f={data(){return{checkSuccess:"false"}},methods:{checkAdmin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)myCookie\s*=\s*([^;]*).*$)|^.*$/,"$1");a?(this.$http.defaults.headers.common.Authorization=`${a}`,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check",{api_token:this.token}).then((a=>{this.checkSuccess=!0,console.log(this.checkSuccess)})).catch((a=>{console.log(a),alert("登入驗證失敗，請重新登入"),this.$router.push("/login")}))):(alert("您尚未登入。"),this.$router.push("/login"))},signOut(){document.cookie="hexToken=;expires=;",alert("已登出"),this.$router.push("/login")}},mounted(){this.checkAdmin()}},w=e(3744);const $=(0,w.Z)(f,[["render",m]]);var x=$}}]);
//# sourceMappingURL=918.d0247e23.js.map